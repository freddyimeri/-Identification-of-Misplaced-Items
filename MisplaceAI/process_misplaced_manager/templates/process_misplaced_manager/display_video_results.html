{% extends 'core/base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <h1 class="text-center">Detection Results</h1>
            <video width="100%" controls>
                <source src="{{ video.video.url }}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <h2 class="mt-4">Detected Objects</h2>
            <ul class="list-group">
                {% for obj in detected_objects %}
                <li class="list-group-item">
                    {{ obj.class_name }} detected
                </li>
                {% endfor %}
            </ul>
            <h2 class="mt-4">Misplaced Objects</h2>
            <ul class="list-group">
                {% for obj in misplaced_objects %}
                <li class="list-group-item">
                    {{ obj.class_name }} is misplaced. Allowed locations: {{ obj.allowed_locations|join:", " }}
                </li>
                {% endfor %}
            </ul>
            <div class="text-center mt-4">
                <a href="{% url 'process_misplaced_manager:detection_options' %}" class="btn btn-link">
                    Try another detection
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}